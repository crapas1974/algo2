# 상위 구조에 포함된 하위 구조의 문제

---

## 제시된 그림의 경로의 분석

- 서울과 부산 사이의 모든 경로는 다음과 같다.

| 경로                                    | 거리  |
| --------------------------------------- | ----- |
| 서울 - 대전 - 광주 - 부산               | 590km |
| 서울 - 대전 - 대구 - 부산               | 410km |
| 서울 - 대전 - 대구 - 경주 - 부산        | 430km |
| 서울 - 춘천 - 대구 - 부산               | 470km |
| 서울 - 춘천 - 대구 - 경주 - 부산        | 490km |
| 서울 - 춘천 - 대구 - 대전 - 광주 - 부산 | 930km |

- 이중 최단 경로는 서울 - 대전 - 대구 - 부산의 410km 경로가 최단 경로이다.
- 최단 경로 상에 있는 도시는 대전과 대구이다.

## 최단 경로를 찾는 문제의 구조
- S 지점과 E 지점 사이의 최단 경로가 M 지점을 지나는 경우
    - A, B 두 점 사이의 최단 경로를 `P(A, B)`, 이 최단 경로의 거리를 `D(A, B)`라고 하자.
    - D(S, E) < D(S, M) + D(M, E)인 경우 M은 최단 경로 상의 점이라 할 수 없다.
    - 반대로 D(S, E) > D(S, M) + D(M, E)인 경우 P(S, E)보다 거리가 더 짧은 M을 지나는 경로가 존재하므로 이 경로를 최단 경로라고 이야기 할 수 없다.
    - 그러므로 P(S, E) 위에 M이 존재하면, D(S, E) = D(S, M) + D(M, E)가 되며, P(S, M)은 P(S, E)에 완전히 포함되는 일부분이다.
    - 따라서 S 지점과 E 지점 사이의 최단 거리는 S 지점과 M 지점 사이의 최단 거리와 M 지점과 E 지점 사이의 최단 거리의 합이며, S 지점과 M 지점 사이의 최단 경로는 S 지점과 E 지점 사이의 최단 경로에 완전히 포함된다.
- S 지점과 E 지점 사이의 경로 중 최단 경로가 M1, M2 지점을 지나는 경우
    - 위의 질문을 순차적으로 확장해보면, P(S, E)에 P(M1, E)가 포함되며, 그러므로 P(S, E)위의 M2은 P(M1, E) 상에 반드시 위치한다.
    - 같은 논리로 P(M2, E)는 P(M1, E)에 포함되며, 그러므로 P(S, E)에 포함된다.
    - 그러므로 P(M2, E)를 구하는 문제는 P(S, E)를 구하는 문제에 겹쳐서 들어와 있다. 

- S 지점과 E 지점 사이의 경로 중 최단 경로가 M1, M2 지점을 지날 때 최단 경로를 구하는 문제의 구조
    - 가장 상위 구조의 문제는 S 지점과 E 지점 사이의 최단 경로를 구하는 문제이다.
    - 가장 하위 구조의 문제는 S 지점과 M1 지점의 최단 경로를 구하는 문제, M1 지점과 M2 지점의 최단 경로를 구하는 문제, M2 지점과 E 지점의 최단 경로를 구하는 문제이다.

## 그림으로 주어진 경우의 문제의 구조

- 지도 상에서 최단 거리를 구할 수 있는 구간은 주어진 모든 도시 간의 거리를 구할 수 있으므로 두 도시 쌍의 수와 같다. 즉 $_7C_2$이며, 이 값은 21개이다.
- 이 가운데 더 이상 쪼갤 수 없는 최소한의 구간은 거리가 주어진 9개의 구간이다.
- 서울에서 부산으로 가는 최단 경로의 구성
    - 서울 - 대전 구간
    - 대전 - 대구 구간
    - 대구 - 부산 구간
- 서울에서 부산으로 가는 최단 경로를 찾는 문제의 하위 문제는 다음과 같다.
    - 서울에서 대전으로 가는 최단 경로를 찾는 문제
    - 서울에서 대구로 가는 최단 경로를 찾는 문제
    - 대전에서 대구로 가는 최단 경로를 찾는 문제
    - 대전에서 부산으로 가는 최단 경로를 찾는 문제
    - 대구에서 부산으로 가는 최단 경로를 찾는 문제
- 서울에서 부산으로 가는 최단 경로를 찾는 문제의 가장 하위의 문제는 다음과 같다.
    - 서울에서 대전으로 가는 최단 경로를 찾는 문제
    - 대전에서 대구로 가는 최단 경로를 찾는 문제
    - 대구에서 부산으로 가는 최단 경로를 찾는 문제
- 서울과 부산 간 최단 경로를 구하는 문제는 같은 구조를 가진 하위 문제의 집합으로 표현할 수 있으므로, 해당 하위 문제들은 상위 문제의 부분집합이라 할 수 있다.
- 가장 하위 문제의 답이 주어져 있으므로 상위 문제의 답은 하위 문제의 답을 사용해 구할 수 있다.
